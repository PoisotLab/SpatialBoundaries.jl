var documenterSearchIndex = {"docs":
[{"location":"vignettes/introduction/","page":"Introduction","title":"Introduction","text":"EditURL = \"https://github.com/EcoJulia/SpatialBoundaries.jl/blob/master/docs/src/vignettes/introduction.jl\"","category":"page"},{"location":"vignettes/introduction/#Introduction","page":"Introduction","title":"Introduction","text":"","category":"section"},{"location":"vignettes/introduction/","page":"Introduction","title":"Introduction","text":"In this example, we will see how the SpatialBoundaries.jl package works, by taking a random mid-point displacement landscape, and measuring its rate and direction of change.","category":"page"},{"location":"vignettes/introduction/","page":"Introduction","title":"Introduction","text":"using SpatialBoundaries\nusing NeutralLandscapes\nusing StatsPlots","category":"page"},{"location":"vignettes/introduction/","page":"Introduction","title":"Introduction","text":"We will set a few options for the default plots:","category":"page"},{"location":"vignettes/introduction/","page":"Introduction","title":"Introduction","text":"default(; dpi=500, size=(600, 600), aspectratio=1, c=:davos, frame=:box)","category":"page"},{"location":"vignettes/introduction/","page":"Introduction","title":"Introduction","text":"The landscape generation is done using the NeutralLandscapes package, and we will pick a 500x500 grid:","category":"page"},{"location":"vignettes/introduction/","page":"Introduction","title":"Introduction","text":"landscape_size = (500, 500)\nlandscape = rand(MidpointDisplacement(0.75), landscape_size...)","category":"page"},{"location":"vignettes/introduction/","page":"Introduction","title":"Introduction","text":"By default, lattice wombling will assume that the cells have the same size, which is 1/n (where n is the number of cells on each side), but  you can specify your own x and y arguments.","category":"page"},{"location":"vignettes/introduction/","page":"Introduction","title":"Introduction","text":"We can take a quick peek at the landscape:","category":"page"},{"location":"vignettes/introduction/","page":"Introduction","title":"Introduction","text":"heatmap(landscape)","category":"page"},{"location":"vignettes/introduction/","page":"Introduction","title":"Introduction","text":"Getting the lattice wombling is done with","category":"page"},{"location":"vignettes/introduction/","page":"Introduction","title":"Introduction","text":"W = wombling(landscape);\nnothing #hide","category":"page"},{"location":"vignettes/introduction/","page":"Introduction","title":"Introduction","text":"The resulting LatticeWomble object has fields for the rate of change (m), the direction of change in degrees (θ), and the values of the centers of the cells at x and y (note that the grid of rates of change is one cell smaller than the original grid!).","category":"page"},{"location":"vignettes/introduction/","page":"Introduction","title":"Introduction","text":"Let's have a look at the rate of change:","category":"page"},{"location":"vignettes/introduction/","page":"Introduction","title":"Introduction","text":"heatmap(W.m, c=:PuOr, clim=(-1.,1.).*maximum(abs.(extrema(W.m))))","category":"page"},{"location":"vignettes/introduction/","page":"Introduction","title":"Introduction","text":"The direction of change is also given, and is expressed a wind direction; for instance, an angle of 180° means that the value is smaller in the South, and larger in the North:","category":"page"},{"location":"vignettes/introduction/","page":"Introduction","title":"Introduction","text":"heatmap(W.θ, clim=(0., 360.))","category":"page"},{"location":"vignettes/simplesdmlayers/","page":"SDM Layers","title":"SDM Layers","text":"EditURL = \"https://github.com/EcoJulia/SpatialBoundaries.jl/blob/master/docs/src/vignettes/simplesdmlayers.jl\"","category":"page"},{"location":"vignettes/simplesdmlayers/#Integration-with-SimpleSDMLayers","page":"SDM Layers","title":"Integration with SimpleSDMLayers","text":"","category":"section"},{"location":"vignettes/simplesdmlayers/","page":"SDM Layers","title":"SDM Layers","text":"The SpatialBoundaries package works really well with SimpleSDMLayers, so that you can (i) apply wombling and boundaries finding to a SimpleSDMLayer object, and (ii) convert the output of a Womble object to a pair of SimpleSDMLayer corresponding to the rate and direction of change.","category":"page"},{"location":"vignettes/simplesdmlayers/","page":"SDM Layers","title":"SDM Layers","text":"using SimpleSDMLayers\nusing SpatialBoundaries\nusing StatsPlots","category":"page"},{"location":"vignettes/simplesdmlayers/","page":"SDM Layers","title":"SDM Layers","text":"Note that the warning about dependencies is a side-effect of loading some functionalities for SimpleSDMLayers as part of SpatialBoundaries, and can safely be ignored.","category":"page"},{"location":"vignettes/simplesdmlayers/","page":"SDM Layers","title":"SDM Layers","text":"In this example, we will look at precipitation data over the province colonially refered to as Québec, and measure the rate of change, as well as the direction of it. These data are extracted from the WorldClim database.","category":"page"},{"location":"vignettes/simplesdmlayers/","page":"SDM Layers","title":"SDM Layers","text":"precipitation = SimpleSDMPredictor(\n    WorldClim, BioClim, 12; left=-80.0, right=-56.0, bottom=44.0, top=62.0\n)","category":"page"},{"location":"vignettes/simplesdmlayers/","page":"SDM Layers","title":"SDM Layers","text":"We can have a look at this layer, after setting a few defaults:","category":"page"},{"location":"vignettes/simplesdmlayers/","page":"SDM Layers","title":"SDM Layers","text":"default(; dpi=500, size=(600, 600), aspectratio=1, c=:davos, frame=:box)\nplot(precipitation)","category":"page"},{"location":"vignettes/simplesdmlayers/","page":"SDM Layers","title":"SDM Layers","text":"There is an overload of the wombling method for SDM layers, so we can call it directly – this method might result in a bit more memory usage than expected, as it requires to transform the nothing values into NaNs, which in turn might require to convert the inner elements of the layer grid.","category":"page"},{"location":"vignettes/simplesdmlayers/","page":"SDM Layers","title":"SDM Layers","text":"W = wombling(precipitation)","category":"page"},{"location":"vignettes/simplesdmlayers/","page":"SDM Layers","title":"SDM Layers","text":"By default, this returns a LatticeWomble. Let's look at the direction of change – mapping this information is difficult, so we will focus on the","category":"page"},{"location":"vignettes/simplesdmlayers/","page":"SDM Layers","title":"SDM Layers","text":"stephist(\n    deg2rad.(sort(vec(W.θ)));\n    proj=:polar,\n    lab=\"\",\n    c=:teal,\n    fill=(0, 0.2, :teal),\n    nbins=100,\n)","category":"page"},{"location":"vignettes/simplesdmlayers/","page":"SDM Layers","title":"SDM Layers","text":"The values for the direction of change are concentrated around 180° - note that the direction of change is reported as a wind direction, meaning that values tend to increase on a south-north axis.","category":"page"},{"location":"vignettes/simplesdmlayers/","page":"SDM Layers","title":"SDM Layers","text":"We can also map the rate of change. This is far easier to do with a proper SDM layer, so we will convert the wombling output:","category":"page"},{"location":"vignettes/simplesdmlayers/","page":"SDM Layers","title":"SDM Layers","text":"Lr, Ld = SimpleSDMPredictor(W)","category":"page"},{"location":"vignettes/simplesdmlayers/","page":"SDM Layers","title":"SDM Layers","text":"Note that we do not use convert here, because this call returns two layers in a tuple – this is a slight deviation from what we expect with SimpleSDMLayers, but it makes the code a little easier to write, and so is considered an acceptable trade-off.","category":"page"},{"location":"vignettes/simplesdmlayers/","page":"SDM Layers","title":"SDM Layers","text":"plot(Lr)","category":"page"},{"location":"#SpatialBoundaries.jl","page":"Home","title":"SpatialBoundaries.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Documentation for SpatialBoundaries.jl","category":"page"},{"location":"#Core-functions","page":"Home","title":"Core functions","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"wombling\nboundaries","category":"page"},{"location":"#SpatialBoundaries.wombling","page":"Home","title":"SpatialBoundaries.wombling","text":"wombling(x::Vector{T}, y::Vector{T}, z::Vector{T}) where {T<:Number}\n\nWrapper function that implements the triangulation wombling algorithm for points that are irregularly arranged in space.\n\n\n\n\n\nwombling(x::Vector{T}, y::Vector{T}, z::Matrix{T}) where {T<:Number}\n\nWrapper function that implements the lattice wombling algorithm for points that are regularly arranged in space.\n\n\n\n\n\nwombling(W::T) where {T <: Womble}\n\nWombling applied to an already wombled structure - this is a nifty shortcut to get the second partial derivatives.\n\n\n\n\n\n","category":"function"},{"location":"#SpatialBoundaries.boundaries","page":"Home","title":"SpatialBoundaries.boundaries","text":"boundaries(W::TriangulationWomble{T}; threshold::T=0.1) where {T <: Number}\n\nExtracts candidate boundaries using calculated rates of change (M) on specified threshold. Default threshold is 10%, meaning that the top 10% of pixels are selected as part of the boundaries.\n\n\n\n\n\nboundaries(W::LatticeWomble{T}; threshold::T=0.1) where {T<:Number}\n\nExtracts candidate boundaries using calculated rates of change (M) on specified threshold. Default threshold is 10%, meaning that the top 10% of pixels are selected as part of the boundaries.\n\n\n\n\n\n","category":"function"},{"location":"#Types","page":"Home","title":"Types","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"LatticeWomble\nTriangulationWomble\nWomble","category":"page"},{"location":"#SpatialBoundaries.LatticeWomble","page":"Home","title":"SpatialBoundaries.LatticeWomble","text":"LatticeWomble{T <: Number} <: Womble\n\nA set of data (and co-ordinates) that are regularly arranged in space are of type LatticeWomble after having been passed through wombling - the fields in this type are\n\nm, a matrix of rate of change at each (x,y) co-ordinate\nθ, a matrix of direction of change at each (x,y) co-ordinate\nx and y, the coordinates of the center of each cell\n\n\n\n\n\n","category":"type"},{"location":"#SpatialBoundaries.TriangulationWomble","page":"Home","title":"SpatialBoundaries.TriangulationWomble","text":"TriangulationWomble{T <: Number} <: Womble\n\nA set of data (and co-ordinates) that are irregularly arranged in space are of type TriangulationWomble after having been passed through wombling - the fields in this type are\n\nm, a vector of rate of change at each (x,y) co-ordinate\nθ, a vector of direction of change at each (x,y) co-ordinate\nx and y, the coordinates of the barycenter of each triangle in the plan\n\n\n\n\n\n","category":"type"},{"location":"#SpatialBoundaries.Womble","page":"Home","title":"SpatialBoundaries.Womble","text":"Womble\n\nThe Womble abstract type is a catch-all for specific wombling outputs.\n\n\n\n\n\n","category":"type"}]
}
