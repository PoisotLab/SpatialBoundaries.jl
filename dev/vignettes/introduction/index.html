<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Introduction · SpatialBoundaries</title><meta name="title" content="Introduction · SpatialBoundaries"/><meta property="og:title" content="Introduction · SpatialBoundaries"/><meta property="twitter:title" content="Introduction · SpatialBoundaries"/><meta name="description" content="Documentation for SpatialBoundaries."/><meta property="og:description" content="Documentation for SpatialBoundaries."/><meta property="twitter:description" content="Documentation for SpatialBoundaries."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img src="../../assets/logo.png" alt="SpatialBoundaries logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href>SpatialBoundaries</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><span class="tocitem">Home</span><ul><li class="is-active"><a class="tocitem" href>Introduction</a></li><li><a class="tocitem" href="../../">SpatialBoundaries.jl</a></li></ul></li><li><span class="tocitem">Vignettes</span><ul><li><a class="tocitem" href="../boundaries/">Finding boundaries</a></li><li><a class="tocitem" href="../triangulation/">Triangulation wombling</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Home</a></li><li class="is-active"><a href>Introduction</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Introduction</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/PoisotLab/SpatialBoundaries.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/PoisotLab/SpatialBoundaries.jl/blob/main/docs/src/vignettes/introduction.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h1><p>Broadly the Wombling algorithm traverses a &#39;landscape&#39; (for example species richness at different degree squares) and describes the the landscape in terms of the <em>Rate of Change (<code>m</code>)</em> (think slope/gradient) and <em>Direction of Change (<code>θ</code>)</em> (direction of slope). For a more in-depth overview you can refer to the preprint available at the following <a href="https://t.co/gCyaEXWPVi">10.32942/osf.io/sjxd8</a>, otherwise follow along for a high-level overview is roughly outlined in the figure below.</p><p>Although the wombling algorithm (as implemented here) is designed to work with two-dimensional <em>i.e.</em> planar data (as delimited by <span>$x$</span> and <span>$y$</span>), it is beneficial to view this plane as a three-dimensional object (or series of curves), as shown in panel A of the figure below. Here the &#39;amplitude&#39; of the curvature of the plane is determined by the value of <span>$z$</span> and the rate and direction of change is calculated by using the first-order partial derivative (<span>$\partial$</span>) of the surface (curve) as described by <span>$f(x,y)$</span> (panel B). Using the rate of change it is also possible to identify candidate boundaries (dashed line in panel C) in the landscape that indicate &#39;shifts&#39; from one state to another.</p><p><img src="../assets/fig_concept.png" alt="image info"/></p><p>Both rate and direction of change are calculated by interpolating points in a given search window which (depending on how the points are arranged in space), and can be done in two ways.</p><p><strong>Lattice Wombling:</strong> For points that are regularly arranged in space the search window is 2 × 2 points. Note that the wombled landscape will be will be smaller than the original landscape (A) due to the interpolation process <em>i.e.</em> where we originally had an <span>$n \times r$</span> grid we now have an (<span>$n$</span> - 1)(<span>$r$</span> - 1) sized grid.</p><p><strong>Triangulation Wombling:</strong> For points that irregularly arranged in space nearest neigbours are found using delaunay triangualtion and interpolation is between 3 points.</p><p>In this example, we will see how the <code>SpatialBoundaries.jl</code> package works (as well as interpreting the rates and direction of change), by taking a random mid-point displacement landscape, and measuring its rate and direction of change.</p><pre><code class="language-julia hljs">using SpatialBoundaries
using NeutralLandscapes
using CairoMakie</code></pre><p>The landscape generation is done using the <code>NeutralLandscapes</code> package, and we will pick a 500x500 grid:</p><pre><code class="language-julia hljs">landscape_size = (500, 500)
landscape = rand(MidpointDisplacement(0.75), landscape_size...)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">500×500 Matrix{Float64}:
 0.674362  0.672667  0.681914  0.698075  …  0.406859  0.417211  0.422689
 0.67079   0.674168  0.693035  0.686257     0.406512  0.409639  0.394976
 0.664565  0.676149  0.690146  0.697328     0.386524  0.395292  0.382422
 0.665744  0.66993   0.677124  0.672339     0.397852  0.389922  0.379407
 0.665732  0.66814   0.660617  0.667889     0.388919  0.383229  0.379409
 0.66184   0.654236  0.646182  0.650573  …  0.37234   0.372426  0.376616
 0.654918  0.657361  0.645679  0.651873     0.361851  0.361713  0.359132
 0.652338  0.636014  0.63663   0.642181     0.347828  0.350567  0.34852
 0.643879  0.634711  0.628877  0.644969     0.32502   0.328914  0.332783
 0.649591  0.640503  0.633876  0.641526     0.329396  0.319007  0.33681
 ⋮                                       ⋱                      
 0.637356  0.634775  0.644722  0.635777     0.40468   0.416483  0.410654
 0.637544  0.631301  0.638533  0.622622     0.401873  0.401102  0.394038
 0.646883  0.644633  0.634123  0.636979     0.397327  0.409994  0.403516
 0.653596  0.638732  0.629349  0.634774     0.389915  0.40517   0.404992
 0.648905  0.643389  0.630689  0.643789  …  0.394489  0.386737  0.390985
 0.643437  0.643749  0.644027  0.64615      0.384032  0.378174  0.384613
 0.654687  0.639687  0.648198  0.653518     0.379351  0.379403  0.381147
 0.643991  0.65015   0.661472  0.669151     0.373709  0.387331  0.385651
 0.641739  0.654096  0.659278  0.663544     0.362034  0.377945  0.36726</code></pre><p>By default, lattice wombling will assume that the cells have the same size, which is 1/n (where n is the number of cells on each side), but  you can specify your own <code>x</code> and <code>y</code> arguments.</p><p>We can take a quick peek at the landscape:</p><pre><code class="language-julia hljs">heatmap(landscape)</code></pre><img src="cdd1b015.png" alt="Example block output"/><p>Getting the lattice wombling is done with</p><pre><code class="language-julia hljs">W = wombling(landscape);</code></pre><p>The resulting <code>LatticeWomble</code> object has fields for the rate of change (<code>m</code>), the direction of change in degrees (<code>θ</code>), and the values of the centers of the cells at <code>x</code> and <code>y</code> (note that the grid of rates of change is one cell smaller than the original grid!). These points are in a grid so the <strong>Lattice Wombling</strong> function was used - note that <code>wombling()</code> will select the appropriate algorithm based on data input.</p><p>Let&#39;s have a look at the rate of change:</p><pre><code class="language-julia hljs">heatmap(W.m, colormap=:navia, colorrange=(0, maximum(W.m)))</code></pre><img src="fcb36d21.png" alt="Example block output"/><p>The rate of change informs us on the potential for there to be a boundary (zone of change) within a window. Cells with a high rate of change are indicative of large differences (changes) in the landscape &#39;topology&#39; and are suggestive of a boundary as we shift from one &#39;state&#39; to another.</p><p>The <em>direction</em> of change is also given, and is expressed a <em>wind</em> direction; for instance, an angle of 180° means that the value is smaller in the South, and larger in the North:</p><pre><code class="language-julia hljs">heatmap(W.θ, colormap=:romaO, colorrange=(0., 360.))</code></pre><img src="cf490cd3.png" alt="Example block output"/><p>The direction of change is <em>not</em> the direction the boundary would be if you were to draw it on the landscape but rather the direction the rate of change is &#39;moving in&#39;. This means it is possible to think of and use the direction of change independently of calculating boundaries <em>per se</em> and can be used to inform how the landscape is behaving/changing in a more &#39;continuous&#39; way as opposed to discrete zones/boundaries. For example if changes in species richness are more gradual (rate of change is near constant) but the direction of change is consistently South-North (<em>i.e.</em> 180°) we can still infer that species richness is &#39;uniformly&#39; increasing in a South-North direction.</p><p>A note on outputs: The new <span>$x$</span> and <span>$y$</span> co-ordinates correspond to latitude and longitude respectively (which is the opposite of what one might expect).</p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="../../">SpatialBoundaries.jl »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.1 on <span class="colophon-date" title="Monday 17 February 2025 18:42">Monday 17 February 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
